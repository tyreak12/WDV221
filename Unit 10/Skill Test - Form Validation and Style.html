<!DOCTYPE html>
<html>
<head>
  <style>
    #userEmail.invalid {
      border: 2px solid red;
    }
    #passwordStrength.weak {
      color: red;
    }
    #passwordStrength.medium {
      color: orange;
    }
    #passwordStrength.strong {
      color: green;
    }
  </style>
</head>
<body onload="document.getElementById('myForm').reset(); document.getElementById('errorMessage').innerHTML = ''; document.getElementById('userEmail').classList.remove('invalid'); document.getElementById('passwordStrength').innerHTML = '';">

<h1 id="Heading1">WDV221</h1>

<h2>Create New User</h2>
<form id="myForm">
  <p>User Email: <input type="text" id="userEmail"/></p>
  <p>Password: <input type="password" id="userPassword" onkeyup="checkPasswordStrength();"/> <span id="passwordStrength"></span></p>
  <input type="button" onclick="ValidateForm();" value="submit"/>
  <input type="reset" onclick="resetForm();" value="reset"/>
  <span id="errorMessage"></span>
</form>

<script>
function ValidateForm() {
  const emailInput = document.getElementById('userEmail');
  const errorMessage = document.getElementById('errorMessage');
  const email = emailInput.value;

  if (!email.includes('@')) {
    errorMessage.innerHTML = 'Email must contain @';
    emailInput.classList.add('invalid');
  } else {
    errorMessage.innerHTML = '';
    emailInput.classList.remove('invalid');
  }
}

function checkPasswordStrength() {
  const pwd = document.getElementById('userPassword').value;
  const strengthSpan = document.getElementById('passwordStrength');

  strengthSpan.className = '';
  if (pwd.length < 5) {
    strengthSpan.innerHTML = 'Weak';
    strengthSpan.classList.add('weak');
  } else if (pwd.length < 10) {
    strengthSpan.innerHTML = 'Medium';
    strengthSpan.classList.add('medium');
  } else {
    strengthSpan.innerHTML = 'Strong';
    strengthSpan.classList.add('strong');
  }
}

function resetForm() {
  document.getElementById('errorMessage').innerHTML = '';
  document.getElementById('userEmail').classList.remove('invalid');
  document.getElementById('passwordStrength').innerHTML = '';
  document.getElementById('passwordStrength').className = '';
}
</script>
<h2> Instructions </h2>
<ol>
	<li>Create an email validation function that is triggered from the button click even and does the following:</li>
	<ol>
		<li>
			Gets the email address entered in the text box and performs validation check for an "@"
		</li> 
		<li>
			Gives an error message if the email is missing an "@". The message should be displayed in the errorMessage span.
		</li>
		<li>
			Sets a solid 2px red border around the userEmail text box
		</li>
		<li>
			Clears the errorMessage span and resets the border of userEmail if there are no errors. This should also happen when the reset button is pressed.
		</li>  
	</ol>
	<li>
		Create a function called checkPasswordStrength that triggers on the keyUp of the userPassword text box.
	</li>
	<ol>
		<li>If the length of the password is less than 5 characters display the word "Weak" in red in the passwordStrength span</li>
		<li>If the length of the password is greater than 5 characters but less than 10 display the word "Medium" in yellow in the passwordStrength span</li>
		<li>If the length of the password is greater than 10 characters display the word "Strong" in green in the passwordStrength span</li>
	</ol>
</ol>

</body>
</html>